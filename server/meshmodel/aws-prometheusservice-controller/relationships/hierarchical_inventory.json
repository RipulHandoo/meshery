{
  "apiVersion": "core.meshery.io/v1alpha1",
  "kind": "Hierarchical",
  "metdata": {
    "description": "Hierarchical"
  },
  "model": {
    "name": "aws-prometheusservice-controller",
    "version": "*",
    "displayName": "AWS Managed Service for Prometheus",
    "category": {
      "name": "Observability and Analysis",
      "metadata": null
    },
    "metadata": {}
  },
  "subType": "Inventory",
  "evaluationQuery": "heirarchical_inventory_relationship",
  "selectors": [
    {
      "allow": {
        "from": [
          {
            "kind": "Pod",
            "model": "Kubernetes",
            "patch": {
              "patchStrategy": "replace",
              "mutatorRef": [["type"], ["name"], ["namespace"]],
              "description": "when a Pod interacts with an Adopted Resource, the Pod's configuration, like its type, name, and namespace, is updated based on the specifications from the Adopted Resource. This integration ensures smooth operation between Pods and Adopted Resources within the controller environment."
            }
          }
        ],
        "to": [
          {
            "kind": "AdoptedResource",
            "model": "aws-prometheusservice-controller",
            "patch": {
              "patchStrategy": "replace",
              "mutatorRef": [
                ["settings", "spec", "kubernetes", "kind"],
                ["settings", "spec", "kubernetes", "metadata", "name"],
                ["settings", "spec", "kubernetes", "metadata", "namespace"]
              ],
              "description": "The AdoptedResource component's Kubernetes-related specifications, such as kind, name, and namespace, are replaced to match the configurations of Pods. This enables seamless integration between AdoptedResources and Pods within the Kubernetes environment."
            }
          }
        ]
      },
      "deny": {
        "from": [],
        "to": []
      }
    }
  ]
}
